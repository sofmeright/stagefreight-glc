spec:
  inputs:
    gitlab_domain:
      description: "Base GitLab domain (used for badge & catalog links)"
      default: "https://gitlab.prplanit.com"

    component_spec_file:
      description: "Path to component spec file (for input parsing)"
      default: "templates/run.yml"

    readme_file:
      description: "README file to inject Markdown input map into"
      default: "README.md"

    output_md_file:
      description: "Temporary Markdown file path to generate"
      default: "artifacts/component_inputs.md"

    badge_template:
      description: "SVG template for badge generation"
      default: "assets/badge-release-generic.svg"

    badge_output:
      description: "Final badge output path"
      default: "assets/badge-release-status.svg"

    branch_name:
      description: "Branch to push badge/README changes to"
      default: "main"

stages:
  - release

default:
  include:
    - local: jobs/gitlab/components/generate-readme_c_inputs.yml
    - local: jobs/gitlab/create-release.yml
    - local: jobs/gitlab/generate-release_notes.yml
    - local: jobs/gitlab/update-release_pipeline_status_badge.yml